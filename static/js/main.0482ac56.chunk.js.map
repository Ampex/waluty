{"version":3,"sources":["components/History.js","components/Currency.js","components/Value.js","components/Calculation.js","App.js","index.js"],"names":["History","props","Grow","timeout","in","style","textAlign","className","symbol","width","height","data","dataKey","stroke","strokeDasharray","type","activeDot","r","Currency","FormControl","disabled","minWidth","InputLabel","Select","autoWidth","name","value","currency","onChange","list","CircularProgress","size","position","left","top","Value","TextField","label","InputProps","endAdornment","InputAdornment","fontSize","toFixed","App","state","historyData","isDisabled","isLoaded","handleChangeValue","e","setState","target","handleChangeCurrency","index","a","key","fetchData","fetch","then","response","json","rates","this","urls","setTimeout","map","url","push","effectiveDate","mid","item","MenuItem","code","Fragment","Skeleton","margin","Calculation","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0482ac56.chunk.js","sourcesContent":["import React from 'react'\r\nimport Grow from '@material-ui/core/Grow'\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Label\r\n} from 'recharts'\r\n\r\nconst History = props => {\r\n  return (\r\n    <Grow timeout={1500} in>\r\n      <div style={{ textAlign: 'center' }} className='element'>\r\n        <h2>Dane historyczne dla {props.symbol}</h2>\r\n        <LineChart width={props.width} height={300} data={props.data}>\r\n          <XAxis dataKey='effectiveDate' />\r\n          <YAxis />\r\n          <CartesianGrid stroke='#eee' strokeDasharray='5 5' />\r\n          <Tooltip />\r\n          <Label />\r\n          <Line\r\n            type='monotone'\r\n            dataKey={props.symbol}\r\n            stroke='#8884d8'\r\n            activeDot={{ r: 8 }}\r\n          />\r\n        </LineChart>\r\n      </div>\r\n    </Grow>\r\n  )\r\n}\r\n\r\nexport default History\r\n","import React from 'react'\r\nimport {\r\n  Select,\r\n  FormControl,\r\n  InputLabel,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\n\r\nconst Currency = props => {\r\n  return (\r\n    <FormControl disabled={props.disabled} style={{ minWidth: 250 }}>\r\n      <InputLabel>Waluta</InputLabel>\r\n      <Select\r\n        autoWidth\r\n        name='currency'\r\n        value={props.currency}\r\n        onChange={props.onChange}\r\n      >\r\n        {props.list}\r\n      </Select>\r\n      {props.disabled && (\r\n        <CircularProgress\r\n          size={30}\r\n          style={{ position: 'absolute', left: '44%', top: '25%' }}\r\n        />\r\n      )}\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default Currency\r\n","import React from 'react'\r\nimport { TextField, InputAdornment } from '@material-ui/core'\r\n\r\nconst Value = props => {\r\n  return (\r\n    <TextField\r\n      style={{ width: 250 }}\r\n      label='Wartość'\r\n      name='value'\r\n      type='number'\r\n      InputProps={{\r\n        endAdornment: <InputAdornment position='end'>zł</InputAdornment>\r\n      }}\r\n      value={props.value}\r\n      onChange={props.onChange}\r\n    ></TextField>\r\n  )\r\n}\r\n\r\nexport default Value\r\n","import React from 'react'\r\nimport Grow from '@material-ui/core/Grow'\r\n\r\nconst Currency = props => {\r\n  return (\r\n    <Grow timeout={1500} in>\r\n      <div style={{ fontSize: 45, textAlign: 'center' }} className='element'>\r\n        {`${(props.value / props.currency).toFixed(2)} ${props.symbol}`}\r\n      </div>\r\n    </Grow>\r\n  )\r\n}\r\n\r\nexport default Currency\r\n","import React, { Component } from 'react'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport { BrowserView, MobileView } from 'react-device-detect'\n\nimport './App.scss'\nimport History from './components/History'\nimport Currency from './components/Currency'\nimport Value from './components/Value'\nimport Calculation from './components/Calculation'\n\nconst currencies = 'https://api.nbp.pl/api/exchangerates/tables/a/?format=json'\n\nexport default class App extends Component {\n  state = {\n    data: null,\n    value: '',\n    currency: '',\n    historyData: [],\n    isDisabled: false,\n    isLoaded: false\n  }\n\n  componentDidMount() {\n    fetch(currencies)\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          data: data[0].rates\n        })\n      )\n  }\n\n  handleChangeValue = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleChangeCurrency = async (e, index) => {\n    this.setState({\n      [e.target.name]: await e.target.value,\n      symbol: index.key,\n      historyData: [],\n      isDisabled: true\n    })\n    this.fetchData()\n  }\n\n  fetchData() {\n    const { symbol } = this.state\n    const urls = [\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2009-04-02/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2010-04-02/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2011-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2012-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2013-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2014-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2015-02-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2016-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2017-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2018-04-04/?format=json`,\n      `https://api.nbp.pl/api/exchangerates/rates/a/${symbol}/2019-12-13/?format=json`\n    ]\n\n    setTimeout(() => {\n      this.setState({\n        isDisabled: false,\n        isLoaded: true\n      })\n    }, 1000)\n\n    const requests = urls.map(url =>\n      fetch(url)\n        .then(response => response.json())\n        .then(data =>\n          this.state.historyData.push({\n            effectiveDate: data.rates[0].effectiveDate,\n            [this.state.symbol]: data.rates[0].mid\n          })\n        )\n    )\n    return requests\n  }\n\n  render() {\n    const {\n      data,\n      value,\n      currency,\n      symbol,\n      historyData,\n      isDisabled,\n      isLoaded\n    } = this.state\n    const list =\n      data &&\n      data.map(item => (\n        <MenuItem key={item.code} value={item.mid} code={item.code}>\n          {item.code}\n        </MenuItem>\n      ))\n\n    return (\n      <React.Fragment>\n        {/* History */}\n        {!isDisabled && currency ? (\n          <React.Fragment>\n            <BrowserView>\n              <History width={550} data={historyData} symbol={symbol} />\n            </BrowserView>\n            <MobileView>\n              <History width={250} data={historyData} symbol={symbol} />\n            </MobileView>\n          </React.Fragment>\n        ) : isLoaded && currency ? (\n          <React.Fragment>\n            <BrowserView>\n              <Skeleton style={{ margin: 15 }} width={630} height={418.18} />\n            </BrowserView>\n            <MobileView>\n              <Skeleton style={{ margin: 15 }} width={250} height={418.18} />\n            </MobileView>\n          </React.Fragment>\n        ) : (\n          false\n        )}\n        <div className='container'>\n          {/* Value */}\n          <div className='element'>\n            <Value value={value} onChange={this.handleChangeValue} />\n          </div>\n          {/* Currency */}\n          <div className='element'>\n            <Currency\n              disabled={isDisabled}\n              onChange={this.handleChangeCurrency}\n              currency={currency}\n              list={list}\n            />\n          </div>\n        </div>\n        {/* Calculation */}\n        {value && currency ? (\n          <Calculation value={value} currency={currency} symbol={symbol} />\n        ) : (\n          false\n        )}\n      </React.Fragment>\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}